!function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([3,1]),n()}([function(e,t,n){var a=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},i=(a(e.i,r,o),r.locals?r.locals:{});e.exports=i},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var a={sec:0,min:0,timer:null,steps:0,top10:[8,10,15,50,70],cellArr:null,cellArrNum:null,curSize:4};function r(){return a.curSize}function o(){return a.cellArr}function i(e){a.cellArr.push(e)}function s(){return a.cellArrNum}function c(e){a.cellArrNum=null!==e?e.map((function(e){return""===e.textContent?"0":e.textContent})):null}function l(){return a.top10}function d(){return(a.min<10?"0"+a.min:a.min)+":"+(a.sec<10?"0"+a.sec:a.sec)}function u(){return a.steps}function p(){clearInterval(a.timer),a.timer=null}function f(e){a.timer&&p(),a.timer=setInterval((function(){60===a.sec&&(a.sec=0,a.min+=1),a.sec+=1,e.innerHTML=(a.min<10?"0"+a.min:a.min)+":"+(a.sec<10?"0"+a.sec:a.sec)}),1e3)}function m(e){document.querySelector(".game__panel__steps-num").textContent=e+""}function v(e){a.steps+=e,m(a.steps)}var g=function(){var e=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("span"),document.createElement("span")],t=e[0],n=e[1],a=e[2],r=e[3],o=e[4],i=e[5];t.classList.add("game__panel"),n.classList.add("game__panel__timer"),a.classList.add("game__panel__steps"),r.classList.add("game__panel__time"),o.classList.add("game__panel__steps-num"),i.classList.add("game__panel__time-num"),o.append(u()+""),i.append(d()),a.append("Steps: ",o),r.append("Time: ",i);var s=function(){var e=[document.createElement("div"),document.createElement("div"),document.createElement("div")],t=e[0],n=e[1],a=e[2];n.classList.add("game__panel__controls");["new game","start/stop","save","result"].forEach((function(e){var t=document.createElement("button");t.classList.add("game__panel__controls-btn"),t.append(e),t.setAttribute("data-btn",e),n.append(t)}));return["3x3","4x4","5x5","6x6","7x7","8x8"].forEach((function(e){var t=document.createElement("button");t.classList.add("game__panel__controls-btn"),t.append(e),t.setAttribute("data-size",e[0]),a.append(t)})),a.classList.add("game__panel__controls-size"),t.classList.add("game__panel__all-controls-btn"),t.append(n,a),t}();return n.append(a,r),t.append(s,n),t},_=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,r++)a[r]=o[i];return a};var L,h,b=null;function E(e,t){e.forEach((function(e){return e.setAttribute("draggable",t+"")}))}function x(e,t){return e-t}function y(e){var t,n=l(),r=n.findIndex((function(t){return e<t}));-1===r&&n.length>10||(-1!==r&&n.length>10&&(n[r]=e),-1!==r&&n.length<10&&(n=_(n.slice(0,r),[e],n.slice(r))),n.push(e),t=n.sort(x),a.top10=t)}function M(e){""!==e.target.textContent&&(e.target.classList.add("drag"),b=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",b.innerHTML))}function T(e,t){var n=o().findIndex((function(e){return e===t})),a=o().findIndex((function(t){return t===e}));return-1!==a&&""===e.textContent&&(1==Math.abs(a-n)||Math.abs(a-n)==r())}function w(e){return e.preventDefault&&e.preventDefault(),T(e.target,b)?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="none",!1}function S(e){return e.stopPropagation&&e.stopPropagation(),b!==e.target&&(b.innerHTML=e.target.innerHTML,b.classList.toggle("over"),e.target.classList.toggle("over"),e.target.innerHTML=e.dataTransfer.getData("text/html")),!1}function O(e){var t;e.target.classList.remove("drag"),(t=o()).every((function(e,n){return t.length-1===n?""===e.textContent:e.textContent===n+1+""}))&&(p(),E(o(),!1),y(u()),alert("Ура! Вы решили головоломку за "+d()+" и "+u()+" ходов")),v(1)}function A(e){if(e.target.classList.contains("game__field__cell")&&P){var t=o(),n=t.findIndex((function(e){return""===e.textContent})),a=t.findIndex((function(t){return t===e.target}));if(T(t[n],t[a])){var r=t[n].innerHTML;t[n].classList.add("move"),t[n].classList.toggle("over"),t[a].classList.toggle("over"),t[n].innerHTML=t[a].innerHTML,t[a].innerHTML=r,v(1)}}}function H(e,t,n){var r,o=n;s()&&(o=s(),c(null)),r=[],a.cellArr=r;for(var l=0;l<Math.pow(e,2);l++){var d=document.createElement("div");i(d),d.classList.add("game__field__cell","m_"+e),t.append(d),"0"!==o[l]&&""!==o[l]?d.append(o[l]):d.classList.add("over")}}function z(e){for(var t,n,a=new Set;a.size!==Math.pow(e,2);)a.add((t=0,n=Math.pow(e,2),Math.floor(Math.random()*(n-t))+t+""));return Array.from(a)}function I(){var e=document.createElement("div");return e.classList.add("game__field"),e}var j,C=!1,P=!1;var D={"new game":function(){var e,t,n;C&&(C=!C,j.innerHTML="",j.append(h)),P=!0,e=0,a.steps=e,m(a.steps),t=0,n=0,a.sec=t,a.min=n,h.innerHTML="";var i=z(r());H(r(),h,i),f(L),E(o(),!0)},"start/stop":function(){a.timer?(P=!1,E(o(),!1),p()):(C&&(C=!C,j.innerHTML="",j.append(h)),P=!0,E(o(),!0),f(L))},save:function(){this["start/stop"](),c(o()),localStorage.setItem("data",JSON.stringify(a)),alert("You save game")},result:function(){if(!C){C=!C,p(),(j=document.querySelector(".game__field-wrap")).innerHTML="";var e=l(),t=document.createElement("div");t.classList.add("game__result__list");var n=document.createElement("span");n.append("Top 10"),n.classList.add("game__result__title"),t.append(n),e.forEach((function(e,n){var a=document.createElement("div"),r=[document.createElement("span"),document.createElement("span")],o=r[0],i=r[1];o.append("№ "+(n+1)+" - "),i.append(e+""),a.append(o,i),t.append(a)})),j.append(t)}},size:function(e){var t;t=e,a.curSize=t,this["new game"]()}};document.addEventListener("DOMContentLoaded",(function(){if(localStorage.getItem("data")){var e=JSON.parse(localStorage.getItem("data"));a=e}var t=document.body,n=document.createElement("section");n.classList.add("game"),t.append(n);var o,i=[g(),I(),document.createElement("div")],s=i[0],c=i[1],l=i[2],d=z(r());H(r(),c,d),l.classList.add("game__field-wrap"),h=c,(o=c).addEventListener("dragstart",M),o.addEventListener("dragover",w),o.addEventListener("drop",S),o.addEventListener("dragend",O),o.addEventListener("click",A),l.append(c),n.append(s,l),document.querySelector(".game__panel__all-controls-btn").addEventListener("click",(function(e){if(e.target.dataset.btn){var t=e.target.dataset.btn;D[t]&&D[t]()}if(e.target.dataset.size){var n=e.target.dataset.size;D.size(n)}})),L=document.querySelector(".game__panel__time-num")}))}]);