!function(e){function t(t){for(var a,s,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={0:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;o.push([3,1]),n()}([function(e,t,n){var a=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1},s=(a(e.i,r,o),r.locals?r.locals:{});e.exports=s},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var a={sec:0,min:0,timer:null,steps:0,top10:[8,10,15,50,70],cellArr:null,cellArrNum:null,curSize:4};function r(){return a.curSize}function o(){return a.cellArr}function s(e){a.cellArr.push(e)}function i(){return a.cellArrNum}function c(e){a.cellArrNum=null!==e?e.map((function(e){return""===e.textContent?"0":e.textContent})):null}function l(){return a.top10}function d(){return(a.min<10?"0"+a.min:a.min)+":"+(a.sec<10?"0"+a.sec:a.sec)}function u(){return a.steps}function p(){clearInterval(a.timer),a.timer=null}function f(e){a.timer&&p(),a.timer=setInterval((function(){60===a.sec&&(a.sec=0,a.min+=1),a.sec+=1,e.innerHTML=(a.min<10?"0"+a.min:a.min)+":"+(a.sec<10?"0"+a.sec:a.sec)}),1e3)}function m(e){document.querySelector(".game__panel__steps-num").textContent=e+""}function v(e){a.steps+=e,m(a.steps)}var _=function(){var e=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("span"),document.createElement("span")],t=e[0],n=e[1],a=e[2],r=e[3],o=e[4],s=e[5];t.classList.add("game__panel"),n.classList.add("game__panel__timer"),a.classList.add("game__panel__steps"),r.classList.add("game__panel__time"),o.classList.add("game__panel__steps-num"),s.classList.add("game__panel__time-num"),o.append(u()+""),s.append(d()),a.append("Steps: ",o),r.append("Time: ",s);var i=function(){var e=[document.createElement("div"),document.createElement("div"),document.createElement("div")],t=e[0],n=e[1],a=e[2];n.classList.add("game__panel__controls");["new game","start/stop","save","result"].forEach((function(e){var t=document.createElement("button");t.classList.add("game__panel__controls-btn"),t.append(e),t.setAttribute("data-btn",e),n.append(t)}));return["3x3","4x4","5x5","6x6","7x7","8x8"].forEach((function(e){var t=document.createElement("button");t.classList.add("game__panel__controls-btn"),t.append(e),t.setAttribute("data-size",e[0]),a.append(t)})),a.classList.add("game__panel__controls-size"),t.classList.add("game__panel__all-controls-btn"),t.append(n,a),t}();return n.append(a,r),t.append(i,n),t};var g,L,h=null;function b(e,t){e.forEach((function(e){return e.setAttribute("draggable",t+"")}))}function E(e,t){return e-t}function x(e){var t,n=l(),r=n.findIndex((function(t){return e>t}));-1===r&&n.length>10||(-1!==r&&n.length>10&&(n[r]=e),n.push(e),t=n.sort(E),a.top10=t)}function y(e){""!==e.target.textContent&&(e.target.classList.add("drag"),h=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",h.innerHTML))}function M(e,t){var n=o().findIndex((function(e){return e===t})),a=o().findIndex((function(t){return t===e}));return-1!==a&&""===e.textContent&&(1==Math.abs(a-n)||Math.abs(a-n)==r())}function T(e){return e.preventDefault&&e.preventDefault(),M(e.target,h)?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="none",!1}function w(e){return e.stopPropagation&&e.stopPropagation(),h!==e.target&&(h.innerHTML=e.target.innerHTML,h.classList.toggle("over"),e.target.classList.toggle("over"),e.target.innerHTML=e.dataTransfer.getData("text/html")),!1}function S(e){var t;e.target.classList.remove("drag"),(t=o()).every((function(e,n){return t.length-1===n?""===e.textContent:e.textContent===n+1+""}))&&(p(),b(o(),!1),x(u()),alert("Ура! Вы решили головоломку за "+d()+" и "+u()+" ходов")),v(1)}function O(e){if(e.target.classList.contains("game__field__cell")&&C){var t=o(),n=t.findIndex((function(e){return""===e.textContent})),a=t.findIndex((function(t){return t===e.target}));if(M(t[n],t[a])){var r=t[n].innerHTML;t[n].classList.add("move"),t[n].classList.toggle("over"),t[a].classList.toggle("over"),t[n].innerHTML=t[a].innerHTML,t[a].innerHTML=r,v(1)}}}function H(e,t,n){var r,o=n;i()&&(o=i(),c(null)),r=[],a.cellArr=r;for(var l=0;l<Math.pow(e,2);l++){var d=document.createElement("div");s(d),d.classList.add("game__field__cell","m_"+e),t.append(d),"0"!==o[l]&&""!==o[l]?d.append(o[l]):d.classList.add("over")}}function A(e){for(var t,n,a=new Set;a.size!==Math.pow(e,2);)a.add((t=0,n=Math.pow(e,2),Math.floor(Math.random()*(n-t))+t+""));return Array.from(a)}function z(){var e=document.createElement("div");return e.classList.add("game__field"),e}var I,j=!1,C=!1;var P={"new game":function(){var e,t,n;j&&(j=!j,I.innerHTML="",I.append(L)),C=!0,e=0,a.steps=e,m(a.steps),t=0,n=0,a.sec=t,a.min=n,L.innerHTML="";var s=A(r());H(r(),L,s),f(g),b(o(),!0)},"start/stop":function(){a.timer?(C=!1,b(o(),!1),p()):(j&&(j=!j,I.innerHTML="",I.append(L)),C=!0,b(o(),!0),f(g))},save:function(){this["start/stop"](),c(o()),localStorage.setItem("data",JSON.stringify(a)),alert("You save game")},result:function(){if(!j){j=!j,p(),(I=document.querySelector(".game__field-wrap")).innerHTML="";var e=l(),t=document.createElement("div");t.classList.add("game__result__list");var n=document.createElement("span");n.append("Top 10"),n.classList.add("game__result__title"),t.append(n),e.forEach((function(e,n){var a=document.createElement("div"),r=[document.createElement("span"),document.createElement("span")],o=r[0],s=r[1];o.append("№ "+(n+1)+" - "),s.append(e+""),a.append(o,s),t.append(a)})),I.append(t)}},size:function(e){var t;t=e,a.curSize=t,this["new game"]()}};document.addEventListener("DOMContentLoaded",(function(){if(localStorage.getItem("data")){var e=JSON.parse(localStorage.getItem("data"));a=e}var t=document.body,n=document.createElement("section");n.classList.add("game"),t.append(n);var o,s=[_(),z(),document.createElement("div")],i=s[0],c=s[1],l=s[2],d=A(r());H(r(),c,d),l.classList.add("game__field-wrap"),L=c,(o=c).addEventListener("dragstart",y),o.addEventListener("dragover",T),o.addEventListener("drop",w),o.addEventListener("dragend",S),o.addEventListener("click",O),l.append(c),n.append(i,l),document.querySelector(".game__panel__all-controls-btn").addEventListener("click",(function(e){if(e.target.dataset.btn){var t=e.target.dataset.btn;P[t]&&P[t]()}if(e.target.dataset.size){var n=e.target.dataset.size;P.size(n)}})),g=document.querySelector(".game__panel__time-num")}))}]);